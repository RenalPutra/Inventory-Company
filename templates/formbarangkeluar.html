{% extends "base.html" %}
{% block content %}
<!DOCTYPE html>
<!-- Coding By CodingNepal - codingnepalweb.com -->
<link rel="stylesheet" href="sweetalert2.min.css">
<body>
    <div class="container">
        <header>Barang Keluar</header>

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form first">
                <div class="details personal">
                    <div class="pt-3">
                        <p><b>Note**</b></p>
                        <p>
                          Jika ingin menginput cukup input bagian 
                          <span class="badge text-bg-dark">Device</span> yang sudah terdaftar di database, namun jika <span class="badge text-bg-dark">User</span> dan<span class="badge text-bg-dark">Email</span> kosong silahkan di isi/tidak lalu klik
                          <span class="badge text-bg-primary">Submit</span>
                        </p>
                      </div>

                    <div class="fields">
                        <div class="input-field">
                            <label>Device</label>
                            <select name="device" id="deviceSelect" required>
                                <option disabled selected>Select device</option>
                                {% for barang_masuk in barangmasuk %}
                                <option value="{{ barang_masuk.device }}" data-user="{{ barang_masuk.user }}" data-email="{{ barang_masuk.email }}" data-pc="{{ barang_masuk.pc }}" data-os="{{ barang_masuk.os }}" data-cpu="{{ barang_masuk.cpu }}" data-vga="{{ barang_masuk.vga }}" data-ram="{{ barang_masuk.ram }}" data-model="{{ barang_masuk.model }}" data-serialnumber="{{ barang_masuk.serialnumber }}" data-description="{{ barang_masuk.description }}" data-kategori="{{ barang_masuk.kategori.kategori }}">
                                    {{ barang_masuk.device }}
                                </option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="input-field">
                            <label>User</label>
                            <input type="text" placeholder="Enter your user" name="user" >
                        </div>

                        <div class="input-field">
                            <label>Email</label>
                            <input type="text" placeholder="Enter your email" name="email" >
                        </div>

                        <div class="input-field">
                            <label>PC/Laptop</label>
                            <input type="text" placeholder="Enter your Device" name="pc" >
                        </div>

                        <div class="input-field">
                            <label>Operating System</label>
                            <input type="text" placeholder="Enter your OS" name="os" >
                        </div>

                        <div class="input-field">
                            <label>CPU</label>
                            <input type="text" placeholder="Enter CPU type" name="cpu" >
                        </div>
                    </div>
                </div>

                <div class="details ID">
                    <div class="fields">
                        <div class="input-field">
                            <label>VGA</label>
                            <input type="text" placeholder="Enter VGA type" name="vga">
                        </div>

                        <div class="input-field">
                            <label>RAM</label>
                            <input type="text" placeholder="Enter RAM type" name="ram" >
                        </div>

                        <div class="input-field">
                            <label>Model</label>
                            <input type="text" placeholder="Enter your model" name="model" >
                        </div>

                        <div class="input-field">
                            <label>Serial Number</label>
                            <input type="text" placeholder="Enter serial number" name="serialnumber" >
                        </div>

                        <div class="input-field">
                            <label>Description</label>
                            <input type="text" placeholder="Enter Description" name="description" >
                        </div>
                        <div class="input-field">
                            <label>Kategori</label>
                            <input type="text" placeholder="Enter Description" name="kategori" >
                        </div>
                    </div>

                    <button class="submit" type="submit" name="submit_form" value="submit">
                        <span class="btnText">Submit</span>
                    </button>
                </div> 
            </div>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="sweetalert2.min.js"></script>
</body>
</html>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const deviceSelect = document.getElementById("deviceSelect");
        const userField = document.querySelector("[name='user']");
        const emailField = document.querySelector("[name='email']");
        const pcField = document.querySelector("[name='pc']");
        const osField = document.querySelector("[name='os']");
        const cpuField = document.querySelector("[name='cpu']");
        const vgaField = document.querySelector("[name='vga']");
        const ramField = document.querySelector("[name='ram']");
        const modelField = document.querySelector("[name='model']");
        const serialnumberField = document.querySelector("[name='serialnumber']");
        const descriptionField = document.querySelector("[name='description']");
        const kategoriField = document.querySelector("[name='kategori']");
        
      
        deviceSelect.addEventListener("change", function () {
            const selectedDevice = deviceSelect.value;
            const selectedOption = deviceSelect.querySelector(`[value='${selectedDevice}']`);
            userField.value = selectedOption.dataset.user;
            emailField.value = selectedOption.dataset.email;
            pcField.value = selectedOption.dataset.pc;
            osField.value = selectedOption.dataset.os;
            cpuField.value = selectedOption.dataset.cpu;
            vgaField.value = selectedOption.dataset.vga;
            ramField.value = selectedOption.dataset.ram;
            modelField.value = selectedOption.dataset.model;
            serialnumberField.value = selectedOption.dataset.serialnumber;
            descriptionField.value = selectedOption.dataset.description;
            kategoriField.value = selectedOption.dataset.kategori;
        });
      });
</script>
{% endblock content %}
